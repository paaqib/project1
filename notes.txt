from flask import Flask, render_template, flash
from flask_wtf import FlaskForm
from wtforms import StringField, PasswordField, SubmitField
from wtforms.validators import DataRequired, Length, Email

app = Flask(__name__)
app.config['SECRET_KEY'] = '11117d441f27d441f27567d441f2b6176a'
app.config['DEBUG'] = True


class ReusableForm(FlaskForm):
    name = StringField('Name:', validators=[DataRequired()])
    email = StringField('Email:', validators=[DataRequired(), Email(), Length(min=6, max=35)])
    password = PasswordField('Password:', validators=[DataRequired(), Length(min=3, max=35)])
    submit = SubmitField('Register')


@app.route("/", methods=['GET', 'POST'])
def hello():
    form = ReusableForm()

    if form.validate_on_submit():
        name = form.name.data
        email = form.email.data
        password = form.password.data

        print(name, email, password)
        flash(f'Thanks for registration {name}')
    elif form.is_submitted():
        flash('Error: All the form fields are required.')

    return render_template('hello.html', form=form)


if __name__ == "__main__":
    app.run()
